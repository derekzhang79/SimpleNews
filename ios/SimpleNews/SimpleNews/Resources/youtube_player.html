<html>
	<head>
		<meta name="viewport" content="initial-scale = 1.0, user-scalable = no, width = 320"/>
	</head>
	<body style="background-color:#000000; margin:0; padding:0;">
		<!-- <iframe id="player" type="text/html" width="320" height="180" src="http://www.youtube.com/embed/tAxQCweDucI?modestbranding=1" frameborder="0"> -->
		<div id="player"></div>
		<script>
			var player;
			var isPaused = false;
			var videoID;
			
			function onYouTubePlayerAPIReady() {
				player = new YT.Player('player', {
					width: '320',
					height: '480',
					videoId: videoID, 
					
					playerVars: {
						'enablejsapi': 1, 
						'fs': 0, 
						'rel': 0, 
						'showsearch': 0, 
						'showinfo': 0, 
						'autoplay': 0, 
						'controls': 0, 
						'suggestedQuality': "large", 
						'modestbranding': 1
					
					}, events: {
						'onReady': onPlayerReady,
						'onStateChange': onPlayerStateChange, 
						'onPlaybackQualityChange': onPlaybackQualityChange, 
						'onError': onError
					}
				});
			}
			
			function onPlayerReady(event) {
				sendValue('state', "READY");
				event.target.setPlaybackQuality('large');
				event.target.playVideo();
			}
			
			function onPlaybackQualityChange(event) {
				sendValue('quality', event.data);
			}
			
			function onError(event) {
				var info;
				
				switch (event.data) {
					case 2:
						info = "invalid param";
						break;
					
					case 100:
						info = "not found";
						break;
					
					case 101:
						info = "not allowed";
						break;
					
					case 150:
						info = "not allowed";
						break;
				}
				
				sendValue('error', info);
			}
			
			function onPlayerStateChange(event) {
				sendValue('state', event.data);
				
				switch (event.data) {
					case -1:
						sendValue('state', "UNPLAYED");
						break;
					
					// 0
					case YT.PlayerState.ENDED:
						sendValue('state', "ENDED");
						
						break;
					
					// 1
					case YT.PlayerState.PLAYING:
						sendValue('state', "PLAYING");
						break;
					
					// 2
					case YT.PlayerState.PAUSED:
						sendValue('state', "PAUSED");
						break;
					
					// 3
					case YT.PlayerState.BUFFERING:
						sendValue('state', "BUFFERING");
						break;
					
					// 5
					case YT.PlayerState.BUFFERING:
						sendValue('state', "CUED");
						break;
				}
			}
			
			function loadVideo(id) {
				videoID = id;
				
				var tag = document.createElement('script');
					tag.src = "http://www.youtube.com/player_api";
				
				var firstScriptTag = document.getElementsByTagName('script')[0];
					firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);
			}
			
			function playVideo() {
				player.playVideo();
			}
			
			function pauseVideo() {
				player.pauseVideo();
			}
			
			function stopVideo() {
				player.stopVideo();
				player.clearVideo();
			}
			
			function sendValue(key, val) {
				location.href = 'result://keyval/' + key + '/' + val;
			}
		</script>
	</body>
</html>